{% extends 'base.html' %}

{% block content %}

  <form action="/change_date" method="POST" class="form-inline">
    <h2 class="m-2 p-2"><strong>{{ revolvedor.nome }}</strong></h2>
    <div class="col m-2 p-2">
      <label for="start">Data:</label>
      <input type="date" class="" id="date-picker" name="date-picker"
          value="{{ date.strftime('%Y-%m-%d') }}">
      
      <fieldset class="form-group">
        <div class="col m-2">
          <div class="col-sm-10">
            <!--
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked>
              <label class="form-check-label" for="gridRadios1">
                Ativado
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">
              <label class="form-check-label" for="gridRadios2">
                Desativado
              </label>
            </div>
            -->
            <button class="btn btn-primary">Mudar Data</button>
          </div>
        </div>
      </fieldset>
    </div>
  </form>

  <form action="/turn_on_off" method="POST">
    <button name="switch-btn" id="switch-btn" class="btn btn-primary" 
              {% if ligado %}
              value="Desligar"
            >
                Desligar
              {% else %}
              value="Ligar"
            >
                Ligar
              {% endif %}
            </button>
  </form>
  

  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <caption>Dados do dia</caption>

      <thead class="table-dark">
        <tr>
          <th scope="col">Hora</th>
          <th scope="col">T1</th>
          <th scope="col">T2</th>
          <th scope="col">T3</th>
          <th scope="col">T4</th>
          <th scope="col">T5</th>
          <th scope="col">MÃ©dia</th>
          <th scope="col">Lig/Des</th>
          <th scope="col">Motivo</th>
        </tr>
      </thead>

      <tbody>
        {% for medida in medidas %}
          <tr>
            <td>{{ medida.date.strftime('%H:%M') }}</td>
            <td>{{ medida.t1 }}</td>
            <td>{{ medida.t2 }}</td>
            <td>{{ medida.t3 }}</td>
            <td>{{ medida.t4 }}</td>
            <td>{{ medida.t5 }}</td>
            <td>{{ "%.1f"|format(medida.media) }}</td>
            <td>{{ 'Ligado' if medida.ligado else 'Desligado' }}</td>
            <td>{{ medida.motivo }}</td>
          </tr>
        {% endfor %}
      </tbody>
      
    </table>
    
    <form class="text-center" action="/logout" method="get">
      <input class="btn btn-danger" type="submit" value="logout" 
          name="Submit" id="logout" />
    </form>
  
  </div>


{% endblock %}